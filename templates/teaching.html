{% extends 'base.html' %}
{% from 'includes/course_thumbnail.html' import course_thumbnail with context %}
{% block title %}Преподавание{% endblock title %}
{% block content %}
<div class="w-50 px-0 m-auto">
  <div class="mx-auto rounded-pill justify-content-between d-flex align-items-center p-2 teaching" style="background-color: rgb(230, 230, 230); width: 85%; height: 80%;">
    <button class="rounded-pill px-1 btn no-focus toggler-active" id="check" style="width: 45%; font-weight: 500;">
      <span class="h4">Проверка</span>
      </button>
    <button class="rounded-pill px-1 btn no-focus toggler-inactive" id="courses" style="width: 45%; font-weight: 500;">
      <span class="h4">Мои курсы</span>
    </button>
  </div>
</div>
<div class="w-75 px-0 justify-content-end align-items-center d-flex my-4 mx-auto">
  <a href="{{ url_for('create_course') }}" class="btn py-auto w-25 d-none mx-auto mbgc" id="create"><span class="h5">Создать курс&nbsp;<i class="bi bi-plus-circle"></i></span></a>
</div>
{# content #}
<div class="mx-auto" style="width: 65%">
  <div id="check-div">
    {% for c in checks %}
        <div class="mx-auto w-100 task_check_item">
          <span style="padding-right: 10px; margin-right: 0.5rem; border-right: solid 1px rgb(210, 210, 210)">{{ c.user.username }}</span>
          <span style="padding-right: 10px; margin-right: 0.5rem; border-right: solid 1px rgb(210, 210, 210)">{{ c.page.lesson.course.name }}</span>
          <span style="">{{ c.page.lesson.name }}</span>
          <span class="float-end">сегодня</span>
        </div>
    {% endfor %}
  </div>
  <div class="d-none" id="courses-div">
    {% for c in courses %}
        {{ course_thumbnail(c, teacher=True) }}
    {% endfor %}
    </div>
  </div>

{% endblock content %}
{% block script %}
<script>
    $(function () {
        let check_div = $('#check-div')
        let courses_div = $('#courses-div')
        let check = $('#check');
        let courses = $('#courses');
        let create = $('#create');
        check.click(function() {
            if (check.hasClass('toggler-active')) return;
            check.addClass('toggler-active');
            courses.removeClass('toggler-active');
            courses_div.addClass('d-none');
            check_div.removeClass('d-none');
            create.addClass('d-none');
        });
        courses.click(function() {
            if (courses.hasClass('toggler-active')) return;
            courses.addClass('toggler-active');
            check.removeClass('toggler-active');
            check_div.addClass('d-none');
            courses_div.removeClass('d-none');
            create.removeClass('d-none');
        });
    });
</script>
{% endblock script %}